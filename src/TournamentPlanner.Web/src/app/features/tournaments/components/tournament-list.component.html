<section class="card">
  <header class="section-header">
    <h2>Existing tournaments</h2>
    <p>Open a tournament to join, manage staff, and view live scoring.</p>
  </header>

  @if (loading()) {
    <p class="muted">Loading tournaments…</p>
  } @else if (!tournaments().length) {
    <p class="muted">No tournaments found yet.</p>
  } @else {
    <div class="list-grid">
      @for (item of tournaments(); track item.id) {
        <article class="tournament-item" [class.active]="selectedTournamentId() === item.id">
          <div>
            <h3>{{ item.name }}</h3>
            <p class="meta">{{ item.venue }} · {{ item.startDateUtc | date: 'mediumDate' }}</p>
            <p class="meta">
              Signup: {{ item.signupStartDateUtc | date: 'short' }} –
              {{ item.signupEndDateUtc | date: 'short' }}
            </p>
          </div>

          <div class="facts">
            <span>{{ item.disciplineCount }} disciplines</span>
            <span>{{ item.participantCount }} participants</span>
            <span class="pill">{{ item.status }}</span>
          </div>

          <button type="button" (click)="selectTournament.emit(item.id)">Open</button>
        </article>
      }
    </div>
  }
</section>
